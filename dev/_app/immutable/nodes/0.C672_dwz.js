import{f as M,a as x,c as vt}from"../chunks/Ch9GSn30.js";import{o as wt}from"../chunks/Cu9z9-1Q.js";import{l as yt,au as kt,h as ft,p as ut,as as X,s as t,c as s,g as e,b as R,r,a as ct,t as $,d as a,n as Mt,ah as Ct}from"../chunks/D0sG4Gf8.js";import{d as pt,s as rt,e as mt}from"../chunks/BVKB6R5f.js";import{B as Pt,i as V,a as it,s as bt}from"../chunks/CifNh-sY.js";import{r as et,s as H,h as Et}from"../chunks/BXtuWJMv.js";import{t as St}from"../chunks/B1D2DcCs.js";import{b as at,u as ht}from"../chunks/veJxXT5U.js";import{s as At,a as lt,g as Ft,f as jt,m as zt,h as Bt,k as Ht,l as $t,n as It,p as Ut,q as qt,t as Nt,j as Tt}from"../chunks/Dt4Og1kx.js";import{s as Dt}from"../chunks/BbvmAUKU.js";import{r as B}from"../chunks/C_Ou05uN.js";function Lt(c,b,...l){var p=new Pt(c);yt(()=>{const u=b()??null;p.ensure(u,u&&(v=>u(v,...l)))},kt)}function st(c,b,l,p,u,v){var i=c.__className;if(ft||i!==l||i===void 0){var n=St(l);(!ft||n!==c.getAttribute("class"))&&(n==null?c.removeAttribute("class"):c.className=n),c.__className=l}return v}const Ot=!0,Wt=!1,xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ot,ssr:Wt},Symbol.toStringTag,{value:"Module"})),Rt=""+new URL("../assets/favicon.BELKjneM.png",import.meta.url).href;var Vt=M('<h2 class="mb-6 font-serif text-2xl font-bold text-slate-800">Sign In</h2> <div class="space-y-3"><button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg> Continue with Google</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" fill="#1877F2" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg> Continue with Facebook</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" viewBox="0 0 24 24"><path fill="#F25022" d="M0 0h11.377v11.372H0z"></path><path fill="#00A4EF" d="M12.623 0H24v11.372H12.623z"></path><path fill="#7FBA00" d="M0 12.623h11.377V24H0z"></path><path fill="#FFB900" d="M12.623 12.623H24V24H12.623z"></path></svg> Continue with Microsoft</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"></path></svg> Continue with Apple</button> <div class="relative my-6"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-slate-300"></div></div> <div class="relative flex justify-center text-sm"><span class="bg-white px-2 text-slate-500">Or</span></div></div> <button class="w-full rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50">Sign in with Email</button> <button class="w-full rounded-lg bg-pumpkin-600 px-4 py-3 font-medium text-white transition hover:bg-pumpkin-700">Create Account with Email</button></div>',1),Gt=M('<div class="rounded-lg bg-red-50 p-3 text-sm text-red-600"> </div>'),Jt=M('<h2 class="mb-6 font-serif text-2xl font-bold text-slate-800">Sign In with Email</h2> <form class="space-y-4"><div><label for="email" class="mb-1 block text-sm font-medium text-slate-700">Email</label> <input id="email" type="email" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-pumpkin-500 focus:ring-2 focus:ring-pumpkin-200 focus:outline-none" placeholder="you@example.com"/></div> <div><label for="password" class="mb-1 block text-sm font-medium text-slate-700">Password</label> <input id="password" type="password" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-pumpkin-500 focus:ring-2 focus:ring-pumpkin-200 focus:outline-none" placeholder="••••••••"/></div> <!> <button type="submit" class="w-full rounded-lg bg-pumpkin-600 px-4 py-3 font-medium text-white transition hover:bg-pumpkin-700 disabled:opacity-50"> </button> <button type="button" class="w-full text-sm text-slate-600 hover:text-slate-800">← Back to all options</button></form>',1),Kt=M('<div class="rounded-lg bg-red-50 p-3 text-sm text-red-600"> </div>'),Qt=M('<h2 class="mb-6 font-serif text-2xl font-bold text-slate-800">Create Account</h2> <form class="space-y-4"><div><label for="signup-email" class="mb-1 block text-sm font-medium text-slate-700">Email</label> <input id="signup-email" type="email" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-pumpkin-500 focus:ring-2 focus:ring-pumpkin-200 focus:outline-none" placeholder="you@example.com"/></div> <div><label for="signup-password" class="mb-1 block text-sm font-medium text-slate-700">Password</label> <input id="signup-password" type="password" required minlength="6" class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-pumpkin-500 focus:ring-2 focus:ring-pumpkin-200 focus:outline-none" placeholder="••••••••"/> <p class="mt-1 text-xs text-slate-500">At least 6 characters</p></div> <div><label for="confirm-password" class="mb-1 block text-sm font-medium text-slate-700">Confirm Password</label> <input id="confirm-password" type="password" required minlength="6" class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-pumpkin-500 focus:ring-2 focus:ring-pumpkin-200 focus:outline-none" placeholder="••••••••"/></div> <!> <button type="submit" class="w-full rounded-lg bg-pumpkin-600 px-4 py-3 font-medium text-white transition hover:bg-pumpkin-700 disabled:opacity-50"> </button> <button type="button" class="w-full text-sm text-slate-600 hover:text-slate-800">← Back to all options</button></form>',1),Xt=M('<button type="button" class="bg-opacity-50 fixed inset-0 z-50 h-full w-full cursor-default border-none bg-black p-0" aria-label="Close modal"></button> <div class="pointer-events-none fixed inset-0 z-50 flex items-center justify-center p-4"><div class="pointer-events-auto relative w-full max-w-md rounded-lg bg-white shadow-xl" role="dialog" aria-modal="true" tabindex="-1"><button class="absolute top-4 right-4 text-slate-400 hover:text-slate-600" aria-label="Close"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <div class="p-6"><!></div></div></div>',1);function Yt(c,b){ut(b,!0);let l=R("select"),p=R(""),u=R(""),v=R(""),i=R(""),n=R(!1);async function C(o,d){a(n,!0),a(i,"");try{await At(lt,o),b.onClose()}catch(_){const P=_;console.error(`${d} sign-in failed:`,_),a(i,P.message||`Failed to sign in with ${d}`,!0)}finally{a(n,!1)}}async function j(){if(!e(p)||!e(u)){a(i,"Please enter email and password");return}a(n,!0),a(i,"");try{await Ht(lt,e(p),e(u)),b.onClose()}catch(o){const d=o;console.error("Email sign-in failed:",o),d.code==="auth/user-not-found"||d.code==="auth/wrong-password"?a(i,"Invalid email or password"):a(i,d.message||"Failed to sign in",!0)}finally{a(n,!1)}}async function G(){if(!e(p)||!e(u)||!e(v)){a(i,"Please fill in all fields");return}if(e(u)!==e(v)){a(i,"Passwords do not match");return}if(e(u).length<6){a(i,"Password must be at least 6 characters");return}a(n,!0),a(i,"");try{await $t(lt,e(p),e(u)),b.onClose()}catch(o){const d=o;console.error("Email sign-up failed:",o),d.code==="auth/email-already-in-use"?a(i,"Email already in use"):d.code==="auth/invalid-email"?a(i,"Invalid email address"):a(i,d.message||"Failed to create account",!0)}finally{a(n,!1)}}function z(){a(p,""),a(u,""),a(v,""),a(i,"")}function I(o){a(l,o,!0),z()}var J=Xt(),U=X(J);U.__click=function(...o){b.onClose?.apply(this,o)};var q=t(U,2),N=s(q),f=s(N);f.__click=function(...o){b.onClose?.apply(this,o)};var y=t(f,2),T=s(y);{var K=o=>{var d=Vt(),_=t(X(d),2),P=s(_);P.__click=()=>C(Ft,"Google");var E=t(P,2);E.__click=()=>C(jt,"Facebook");var h=t(E,2);h.__click=()=>C(zt,"Microsoft");var m=t(h,2);m.__click=()=>C(Bt,"Apple");var g=t(m,4);g.__click=()=>I("email-signin");var w=t(g,2);w.__click=()=>I("email-signup"),r(_),$(()=>{P.disabled=e(n),E.disabled=e(n),h.disabled=e(n),m.disabled=e(n)}),x(o,d)},D=o=>{var d=vt(),_=X(d);{var P=h=>{var m=Jt(),g=t(X(m),2),w=s(g),S=t(s(w),2);et(S),r(w);var L=t(w,2),O=t(s(L),2);et(O),r(L);var W=t(L,2);{var Y=k=>{var tt=Gt(),nt=s(tt,!0);r(tt),$(()=>rt(nt,e(i))),x(k,tt)};V(W,k=>{e(i)&&k(Y)})}var F=t(W,2),Z=s(F,!0);r(F);var Q=t(F,2);Q.__click=()=>I("select"),r(g),$(()=>{F.disabled=e(n),rt(Z,e(n)?"Signing in...":"Sign In")}),mt("submit",g,k=>{k.preventDefault(),j()}),at(S,()=>e(p),k=>a(p,k)),at(O,()=>e(u),k=>a(u,k)),x(h,m)},E=h=>{var m=vt(),g=X(m);{var w=S=>{var L=Qt(),O=t(X(L),2),W=s(O),Y=t(s(W),2);et(Y),r(W);var F=t(W,2),Z=t(s(F),2);et(Z),Mt(2),r(F);var Q=t(F,2),k=t(s(Q),2);et(k),r(Q);var tt=t(Q,2);{var nt=A=>{var dt=Kt(),_t=s(dt,!0);r(dt),$(()=>rt(_t,e(i))),x(A,dt)};V(tt,A=>{e(i)&&A(nt)})}var ot=t(tt,2),gt=s(ot,!0);r(ot);var xt=t(ot,2);xt.__click=()=>I("select"),r(O),$(()=>{ot.disabled=e(n),rt(gt,e(n)?"Creating account...":"Create Account")}),mt("submit",O,A=>{A.preventDefault(),G()}),at(Y,()=>e(p),A=>a(p,A)),at(Z,()=>e(u),A=>a(u,A)),at(k,()=>e(v),A=>a(v,A)),x(S,L)};V(g,S=>{e(l)==="email-signup"&&S(w)},!0)}x(h,m)};V(_,h=>{e(l)==="email-signin"?h(P):h(E,!1)},!0)}x(o,d)};V(T,o=>{e(l)==="select"?o(K):o(D,!1)})}r(y),r(N),r(q),x(c,J),ct()}pt(["click"]);var Zt=M('<img class="h-8 w-8 rounded-full border border-slate-300"/>'),te=M('<div class="flex items-center gap-3"><!> <div class="hidden flex-col text-sm sm:flex"><span class="font-medium text-slate-700"> </span> <div class="flex gap-2"><button class="text-left text-xs text-slate-500 hover:text-pumpkin-600 hover:underline">Sign Out</button></div></div> <div class="flex flex-col items-end gap-1 sm:hidden"><button class="text-sm text-slate-600">Sign Out</button></div></div>'),ee=M('<button class="rounded-md bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm ring-1 ring-slate-300 ring-inset hover:bg-slate-50">Sign In</button>'),ae=M('<div class="flex items-center gap-4"><!></div> <!>',1);function se(c,b){ut(b,!0);const l=()=>it(ht,"$user",p),[p,u]=bt();let v=R(!1);function i(){a(v,!0)}function n(){a(v,!1)}async function C(){await Ut(lt)}let j=R("");Ct(()=>{l()&&l().uid!==e(j)?(a(j,l().uid,!0),It(l())):l()||a(j,"")});var G=ae(),z=X(G),I=s(z);{var J=f=>{var y=te(),T=s(y);{var K=m=>{var g=Zt();$(()=>{H(g,"src",l().photoURL),H(g,"alt",l().displayName??"User")}),x(m,g)};V(T,m=>{l().photoURL&&m(K)})}var D=t(T,2),o=s(D),d=s(o,!0);r(o);var _=t(o,2),P=s(_);P.__click=C,r(_),r(D);var E=t(D,2),h=s(E);h.__click=C,r(E),r(y),$(()=>rt(d,l().displayName)),x(f,y)},U=f=>{var y=ee();y.__click=i,x(f,y)};V(I,f=>{l()?f(J):f(U,!1)})}r(z);var q=t(z,2);{var N=f=>{Yt(f,{onClose:n})};V(q,f=>{e(v)&&f(N)})}x(c,G),ct(),u()}pt(["click"]);const re=()=>{const c=Dt;return{page:{subscribe:c.page.subscribe},navigating:{subscribe:c.navigating.subscribe},updated:c.updated}},oe={subscribe(c){return re().page.subscribe(c)}};var ie=M('<link rel="icon"/>'),le=M('<div class="flex min-h-screen flex-col bg-slate-100"><header class="sticky top-0 z-50 bg-slate-800 text-white shadow-lg"><div class="mx-auto flex max-w-4xl flex-col gap-4 px-4 py-4 md:flex-row md:items-center md:justify-between"><div class="flex items-center justify-between"><a class="font-serif text-2xl font-bold tracking-wider text-pumpkin-400">Journey To Mordor</a></div> <div class="flex flex-col gap-4 md:flex-row md:items-center"><nav class="flex space-x-1 rounded-lg bg-slate-700 p-1"><a>Dashboard</a> <a>Logs</a> <a>My Data</a></nav> <div class="flex items-center gap-4"><div class="flex rounded-md bg-slate-700 p-1"><button>km</button> <button>mi</button></div> <!></div></div></div></header> <main class="flex-grow p-4 md:p-6"><div class="mx-auto max-w-4xl"><!></div></main> <footer class="bg-slate-800 py-6 text-center text-sm text-slate-400"><p>&copy; 2026 Tamás Hakkel. Not affiliated with Tolkien Estate.</p> <p class="mt-2 space-x-4"><a class="text-pumpkin-400 hover:text-pumpkin-300 hover:underline">My Data</a> <span class="text-slate-600">|</span> <a class="text-pumpkin-400 hover:text-pumpkin-300 hover:underline">Privacy Policy</a></p></footer></div>');function _e(c,b){ut(b,!0);const l=()=>it(ht,"$user",v),p=()=>it(oe,"$page",v),u=()=>it(Tt,"$journeyStore",v),[v,i]=bt();wt(()=>{Nt()});function n(w){qt(w,l())}var C=le();Et("12qhfyh",w=>{var S=ie();$(()=>H(S,"href",Rt)),x(w,S)});var j=s(C),G=s(j),z=s(G),I=s(z);r(z);var J=t(z,2),U=s(J),q=s(U),N=t(q,2),f=t(N,2);r(U);var y=t(U,2),T=s(y),K=s(T);K.__click=()=>n("km");var D=t(K,2);D.__click=()=>n("miles"),r(T);var o=t(T,2);se(o,{}),r(y),r(J),r(G),r(j);var d=t(j,2),_=s(d),P=s(_);Lt(P,()=>b.children),r(_),r(d);var E=t(d,2),h=t(s(E),2),m=s(h),g=t(m,4);r(h),r(E),r(C),$((w,S,L,O,W,Y,F,Z,Q)=>{H(I,"href",w),H(q,"href",S),st(q,1,`rounded px-3 py-1.5 text-sm font-medium transition-colors ${L??""}`),H(N,"href",O),st(N,1,`rounded px-3 py-1.5 text-sm font-medium transition-colors ${W??""}`),H(f,"href",Y),st(f,1,`rounded px-3 py-1.5 text-sm font-medium transition-colors ${F??""}`),st(K,1,`rounded px-2 py-1 text-xs font-medium transition-colors ${u().unit==="km"?"bg-slate-600 text-white shadow-sm":"text-slate-400 hover:text-white"}`),st(D,1,`rounded px-2 py-1 text-xs font-medium transition-colors ${u().unit==="miles"?"bg-slate-600 text-white shadow-sm":"text-slate-400 hover:text-white"}`),H(m,"href",Z),H(g,"href",Q)},[()=>B("/"),()=>B("/"),()=>p().url.pathname===B("/")?"bg-slate-600 text-white shadow-sm":"text-slate-300 hover:text-white",()=>B("/logs"),()=>p().url.pathname.startsWith(B("/logs"))?"bg-slate-600 text-white shadow-sm":"text-slate-300 hover:text-white",()=>B("/my-data"),()=>p().url.pathname.startsWith(B("/my-data"))?"bg-slate-600 text-white shadow-sm":"text-slate-300 hover:text-white",()=>B("/my-data"),()=>B("/privacy")]),x(c,C),ct(),i()}pt(["click"]);export{_e as component,xe as universal};
