import{f as A,a as _,c as ht}from"../chunks/Ch9GSn30.js";import{o as yt}from"../chunks/Cu9z9-1Q.js";import{l as kt,au as Mt,h as bt,p as ut,as as Z,s as t,c as e,g as s,b as V,r as a,a as vt,t as U,d as r,n as ot,ah as Ct}from"../chunks/D0sG4Gf8.js";import{B as St,i as G,a as dt,s as _t}from"../chunks/CifNh-sY.js";import{r as it,s as $,h as Pt}from"../chunks/BXtuWJMv.js";import{i as $t}from"../chunks/Dbm-z3nC.js";import{d as gt,s as nt,e as xt}from"../chunks/BVKB6R5f.js";import{t as At}from"../chunks/B1D2DcCs.js";import{s as Et}from"../chunks/D5CaeRlW.js";import{r as m}from"../chunks/BGixgJfT.js";import{s as jt,a as ct,g as Ft,f as zt,m as Bt,h as Ht,k as It,l as Wt,n as Dt,p as Ut,q as qt,j as Nt,t as Ot}from"../chunks/CsqO68s-.js";import{b as lt,u as wt}from"../chunks/BQZy-WQR.js";function Tt(v,p,...i){var l=new St(v);kt(()=>{const n=p()??null;l.ensure(n,n&&(f=>n(f,...i)))},Mt)}function z(v,p,i,l,n,f){var o=v.__className;if(bt||o!==i||o===void 0){var c=At(i);(!bt||c!==v.getAttribute("class"))&&(c==null?v.removeAttribute("class"):v.className=c),v.__className=i}return f}const Lt=!0,Rt=!1,ye=Object.freeze(Object.defineProperty({__proto__:null,prerender:Lt,ssr:Rt},Symbol.toStringTag,{value:"Module"})),Vt=()=>{const v=Et;return{page:{subscribe:v.page.subscribe},navigating:{subscribe:v.navigating.subscribe},updated:v.updated}},Gt={subscribe(v){return Vt().page.subscribe(v)}};var Jt=A('<h2 class="mb-6 font-serif text-4xl font-normal text-slate-800">Sign In</h2> <div class="space-y-3"><button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg> Continue with Google</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" fill="#1877F2" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg> Continue with Facebook</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" viewBox="0 0 24 24"><path fill="#F25022" d="M0 0h11.377v11.372H0z"></path><path fill="#00A4EF" d="M12.623 0H24v11.372H12.623z"></path><path fill="#7FBA00" d="M0 12.623h11.377V24H0z"></path><path fill="#FFB900" d="M12.623 12.623H24V24H12.623z"></path></svg> Continue with Microsoft</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"></path></svg> Continue with Apple</button> <div class="relative my-6"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-slate-300"></div></div> <div class="relative flex justify-center text-sm"><span class="bg-white px-2 text-slate-500">Or</span></div></div> <button class="w-full rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50">Sign in with Email</button> <button class="w-full rounded-lg bg-ring-600 px-4 py-3 font-medium text-white transition hover:bg-ring-700">Create Account with Email</button></div>',1),Kt=A('<div class="rounded-lg bg-red-50 p-3 text-sm text-red-600"> </div>'),Qt=A('<h2 class="mb-6 font-serif text-4xl font-normal text-slate-800">Sign In with Email</h2> <form class="space-y-4"><div><label for="email" class="mb-1 block text-sm font-medium text-slate-700">Email</label> <input id="email" type="email" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="you@example.com"/></div> <div><label for="password" class="mb-1 block text-sm font-medium text-slate-700">Password</label> <input id="password" type="password" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="••••••••"/></div> <!> <button type="submit" class="w-full rounded-lg bg-ring-600 px-4 py-3 font-medium text-white transition hover:bg-ring-700 disabled:opacity-50"> </button> <button type="button" class="w-full text-sm text-slate-600 hover:text-slate-800">← Back to all options</button></form>',1),Xt=A('<div class="rounded-lg bg-red-50 p-3 text-sm text-red-600"> </div>'),Yt=A('<h2 class="mb-6 font-serif text-4xl font-normal text-slate-800">Create Account</h2> <form class="space-y-4"><div><label for="signup-email" class="mb-1 block text-sm font-medium text-slate-700">Email</label> <input id="signup-email" type="email" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="you@example.com"/></div> <div><label for="signup-password" class="mb-1 block text-sm font-medium text-slate-700">Password</label> <input id="signup-password" type="password" required minlength="6" class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="••••••••"/> <p class="mt-1 text-xs text-slate-500">At least 6 characters</p></div> <div><label for="confirm-password" class="mb-1 block text-sm font-medium text-slate-700">Confirm Password</label> <input id="confirm-password" type="password" required minlength="6" class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="••••••••"/></div> <!> <button type="submit" class="w-full rounded-lg bg-ring-600 px-4 py-3 font-medium text-white transition hover:bg-ring-700 disabled:opacity-50"> </button> <button type="button" class="w-full text-sm text-slate-600 hover:text-slate-800">← Back to all options</button></form>',1),Zt=A('<button type="button" class="bg-opacity-50 fixed inset-0 z-50 h-full w-full cursor-default border-none bg-black p-0" aria-label="Close modal"></button> <div class="pointer-events-none fixed inset-0 z-50 flex items-center justify-center p-4"><div class="pointer-events-auto relative w-full max-w-md rounded-lg bg-white shadow-xl" role="dialog" aria-modal="true" tabindex="-1"><button class="absolute top-4 right-4 text-slate-400 hover:text-slate-600" aria-label="Close"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <div class="p-6"><!></div></div></div>',1);function te(v,p){ut(p,!0);let i=V("select"),l=V(""),n=V(""),f=V(""),o=V(""),c=V(!1);async function w(d,u){r(c,!0),r(o,"");try{await jt(ct,d),p.onClose()}catch(S){const F=S;console.error(`${u} sign-in failed:`,S),r(o,F.message||`Failed to sign in with ${u}`,!0)}finally{r(c,!1)}}async function E(){if(!s(l)||!s(n)){r(o,"Please enter email and password");return}r(c,!0),r(o,"");try{await It(ct,s(l),s(n)),p.onClose()}catch(d){const u=d;console.error("Email sign-in failed:",d),u.code==="auth/user-not-found"||u.code==="auth/wrong-password"?r(o,"Invalid email or password"):r(o,u.message||"Failed to sign in",!0)}finally{r(c,!1)}}async function B(){if(!s(l)||!s(n)||!s(f)){r(o,"Please fill in all fields");return}if(s(n)!==s(f)){r(o,"Passwords do not match");return}if(s(n).length<6){r(o,"Password must be at least 6 characters");return}r(c,!0),r(o,"");try{await Wt(ct,s(l),s(n)),p.onClose()}catch(d){const u=d;console.error("Email sign-up failed:",d),u.code==="auth/email-already-in-use"?r(o,"Email already in use"):u.code==="auth/invalid-email"?r(o,"Invalid email address"):r(o,u.message||"Failed to create account",!0)}finally{r(c,!1)}}function j(){r(l,""),r(n,""),r(f,""),r(o,"")}function M(d){r(i,d,!0),j()}var q=Zt(),N=Z(q);N.__click=function(...d){p.onClose?.apply(this,d)};var J=t(N,2),K=e(J),h=e(K);h.__click=function(...d){p.onClose?.apply(this,d)};var C=t(h,2),D=e(C);{var Q=d=>{var u=Jt(),S=t(Z(u),2),F=e(S);F.__click=()=>w(Ft,"Google");var y=t(F,2);y.__click=()=>w(zt,"Facebook");var b=t(y,2);b.__click=()=>w(Bt,"Microsoft");var x=t(b,2);x.__click=()=>w(Ht,"Apple");var g=t(x,4);g.__click=()=>M("email-signin");var H=t(g,2);H.__click=()=>M("email-signup"),a(S),U(()=>{F.disabled=s(c),y.disabled=s(c),b.disabled=s(c),x.disabled=s(c)}),_(d,u)},X=d=>{var u=ht(),S=Z(u);{var F=b=>{var x=Qt(),g=t(Z(x),2),H=e(g),O=t(e(H),2);it(O),a(H);var I=t(H,2),T=t(e(I),2);it(T),a(I);var L=t(I,2);{var tt=k=>{var R=Kt(),st=e(R,!0);a(R),U(()=>nt(st,s(o))),_(k,R)};G(L,k=>{s(o)&&k(tt)})}var W=t(L,2),et=e(W,!0);a(W);var Y=t(W,2);Y.__click=()=>M("select"),a(g),U(()=>{W.disabled=s(c),nt(et,s(c)?"Signing in...":"Sign In")}),xt("submit",g,k=>{k.preventDefault(),E()}),lt(O,()=>s(l),k=>r(l,k)),lt(T,()=>s(n),k=>r(n,k)),_(b,x)},y=b=>{var x=ht(),g=Z(x);{var H=O=>{var I=Yt(),T=t(Z(I),2),L=e(T),tt=t(e(L),2);it(tt),a(L);var W=t(L,2),et=t(e(W),2);it(et),ot(2),a(W);var Y=t(W,2),k=t(e(Y),2);it(k),a(Y);var R=t(Y,2);{var st=P=>{var rt=Xt(),pt=e(rt,!0);a(rt),U(()=>nt(pt,s(o))),_(P,rt)};G(R,P=>{s(o)&&P(st)})}var at=t(R,2),ft=e(at,!0);a(at);var mt=t(at,2);mt.__click=()=>M("select"),a(T),U(()=>{at.disabled=s(c),nt(ft,s(c)?"Creating account...":"Create Account")}),xt("submit",T,P=>{P.preventDefault(),B()}),lt(tt,()=>s(l),P=>r(l,P)),lt(et,()=>s(n),P=>r(n,P)),lt(k,()=>s(f),P=>r(f,P)),_(O,I)};G(g,O=>{s(i)==="email-signup"&&O(H)},!0)}_(b,x)};G(S,b=>{s(i)==="email-signin"?b(F):b(y,!1)},!0)}_(d,u)};G(D,d=>{s(i)==="select"?d(Q):d(X,!1)})}a(C),a(K),a(J),_(v,q),vt()}gt(["click"]);var ee=A('<img class="h-8 w-8 rounded-full border border-slate-700 shadow-sm" width="32" height="32"/>'),ae=A('<div class="flex items-center gap-3"><!> <div class="hidden flex-col text-sm sm:flex"><span class="font-medium text-slate-200"> </span> <div class="flex gap-2"><button class="text-left text-xs text-slate-400 hover:text-ring-400 hover:underline">Sign Out</button></div></div> <div class="flex flex-col items-end gap-1 sm:hidden"><button class="text-sm font-medium text-slate-300 active:text-ring-400">Sign Out</button></div></div>'),se=A('<button class="rounded-full bg-ring-600 px-5 py-2 text-sm font-bold text-white shadow-sm transition-all hover:bg-ring-500 hover:shadow-md active:scale-95">Sign In</button>'),re=A('<div class="flex items-center gap-4"><!></div> <!>',1);function ie(v,p){ut(p,!0);const i=()=>dt(wt,"$user",l),[l,n]=_t();let f=V(!1);function o(){r(f,!0)}function c(){r(f,!1)}async function w(){await Ut(ct)}let E=V("");Ct(()=>{i()&&i().uid!==s(E)?(r(E,i().uid,!0),Dt(i())):i()||r(E,"")});var B=re(),j=Z(B),M=e(j);{var q=h=>{var C=ae(),D=e(C);{var Q=x=>{var g=ee();U(()=>{$(g,"src",i().photoURL),$(g,"alt",i().displayName??"User")}),_(x,g)};G(D,x=>{i().photoURL&&x(Q)})}var X=t(D,2),d=e(X),u=e(d,!0);a(d);var S=t(d,2),F=e(S);F.__click=w,a(S),a(X);var y=t(X,2),b=e(y);b.__click=w,a(y),a(C),U(()=>nt(u,i().displayName)),_(h,C)},N=h=>{var C=se();C.__click=o,_(h,C)};G(M,h=>{i()?h(q):h(N,!1)})}a(j);var J=t(j,2);{var K=h=>{te(h,{onClose:c})};G(J,h=>{s(f)&&h(K)})}_(v,B),vt(),n()}gt(["click"]);var le=A('<header class="sticky top-0 z-50 bg-earth-900 text-slate-200 shadow-md"><div class="mx-auto flex h-16 max-w-5xl items-center justify-between px-4 sm:px-6"><div class="flex items-center gap-6"><a class="flex items-center gap-3 transition-opacity hover:opacity-80"><img src="/header-40.png" alt="The One Ring" class="h-10 w-10 drop-shadow-lg" width="40" height="40"/> <span class="font-display text-3xl font-normal tracking-wide text-ring-400 md:text-4xl">Journey to Mordor</span></a> <nav class="hidden items-center gap-2 md:flex"><a>Dashboard</a> <a>Logs</a> <a>My Data</a></nav></div> <div class="flex items-center gap-4"><div class="flex items-center gap-3"><div class="flex h-8 items-center rounded-lg border border-earth-700 bg-earth-800 p-0.5"><button aria-label="Set units to kilometers">km</button> <button aria-label="Set units to miles">miles</button></div> <div class="hidden h-6 w-px bg-earth-700 sm:block"></div> <!></div></div></div> <nav class="flex h-12 border-t border-earth-800 bg-earth-900 md:hidden"><a><span class="flex flex-col items-center"><span></span> Dashboard</span></a> <a><span class="flex flex-col items-center"><span></span> Logs</span></a> <a><span class="flex flex-col items-center"><span></span> My Data</span></a></nav></header>');function ne(v,p){ut(p,!1);const i=()=>dt(wt,"$user",f),l=()=>dt(Gt,"$page",f),n=()=>dt(Nt,"$journeyStore",f),[f,o]=_t();function c(I){qt(I,i())}$t();var w=le(),E=e(w),B=e(E),j=e(B),M=t(j,2),q=e(M),N=t(q,2),J=t(N,2);a(M),a(B);var K=t(B,2),h=e(K),C=e(h),D=e(C);D.__click=()=>c("km");var Q=t(D,2);Q.__click=()=>c("miles"),a(C);var X=t(C,4);ie(X,{}),a(h),a(K),a(E);var d=t(E,2),u=e(d),S=e(u),F=e(S);ot(),a(S),a(u);var y=t(u,2),b=e(y),x=e(b);ot(),a(b),a(y);var g=t(y,2),H=e(g),O=e(H);ot(),a(H),a(g),a(d),a(w),U((I,T,L,tt,W,et,Y,k,R,st,at,ft,mt,P,rt,pt)=>{$(j,"href",I),$(q,"href",T),z(q,1,`rounded-full px-4 py-1.5 text-sm font-medium transition-all ${L??""}`),$(N,"href",tt),z(N,1,`rounded-full px-4 py-1.5 text-sm font-medium transition-all ${W??""}`),$(J,"href",et),z(J,1,`rounded-full px-4 py-1.5 text-sm font-medium transition-all ${Y??""}`),z(D,1,`flex h-full items-center rounded-md px-3 text-xs font-semibold transition-all ${n().unit==="km"?"bg-ring-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`),$(D,"aria-pressed",n().unit==="km"),z(Q,1,`flex h-full items-center rounded-md px-3 text-xs font-semibold transition-all ${n().unit==="miles"?"bg-ring-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`),$(Q,"aria-pressed",n().unit==="miles"),$(u,"href",k),z(u,1,`flex flex-1 items-center justify-center text-xs font-medium transition-all ${R??""}`),z(F,1,`mb-1 h-1 w-8 rounded-full ${st??""}`),$(y,"href",at),z(y,1,`flex flex-1 items-center justify-center text-xs font-medium transition-all ${ft??""}`),z(x,1,`mb-1 h-1 w-8 rounded-full ${mt??""}`),$(g,"href",P),z(g,1,`flex flex-1 items-center justify-center text-xs font-medium transition-all ${rt??""}`),z(O,1,`mb-1 h-1 w-8 rounded-full ${pt??""}`)},[()=>m("/"),()=>m("/"),()=>l().url.pathname===m("/")?"bg-ring-600/20 text-ring-400":"text-slate-400 hover:bg-earth-800 hover:text-slate-200",()=>m("/logs"),()=>l().url.pathname.startsWith(m("/logs"))?"bg-ring-600/20 text-ring-400":"text-slate-400 hover:bg-earth-800 hover:text-slate-200",()=>m("/my-data"),()=>l().url.pathname.startsWith(m("/my-data"))?"bg-ring-600/20 text-ring-400":"text-slate-400 hover:bg-earth-800 hover:text-slate-200",()=>m("/"),()=>l().url.pathname===m("/")?"text-ring-400":"text-slate-400",()=>l().url.pathname===m("/")?"bg-ring-400":"bg-transparent",()=>m("/logs"),()=>l().url.pathname.startsWith(m("/logs"))?"text-ring-400":"text-slate-400",()=>l().url.pathname.startsWith(m("/logs"))?"bg-ring-400":"bg-transparent",()=>m("/my-data"),()=>l().url.pathname.startsWith(m("/my-data"))?"text-ring-400":"text-slate-400",()=>l().url.pathname.startsWith(m("/my-data"))?"bg-ring-400":"bg-transparent"]),_(v,w),vt(),o()}gt(["click"]);var oe=A('<link rel="icon" href="/favicon-32.png"/>'),de=A('<div class="flex min-h-screen flex-col bg-earth-50"><!> <main class="flex-grow p-4 md:p-6"><div class="mx-auto max-w-4xl"><!></div></main> <footer class="bg-earth-900 py-6 text-center text-sm text-slate-400"><p>&copy; 2026 Tamás Hakkel. Not affiliated with Tolkien Estate.</p> <p class="mt-2 space-x-4"><a class="text-ring-400 hover:text-ring-300 hover:underline">My Data</a> <span class="text-slate-600">|</span> <a class="text-ring-400 hover:text-ring-300 hover:underline">Privacy Policy</a></p></footer></div>');function ke(v,p){ut(p,!0),yt(()=>{Ot()});var i=de();Pt("12qhfyh",j=>{var M=oe();_(j,M)});var l=e(i);ne(l,{});var n=t(l,2),f=e(n),o=e(f);Tt(o,()=>p.children),a(f),a(n);var c=t(n,2),w=t(e(c),2),E=e(w),B=t(E,4);a(w),a(c),a(i),U((j,M)=>{$(E,"href",j),$(B,"href",M)},[()=>m("/my-data"),()=>m("/privacy")]),_(v,i),vt()}export{ke as component,ye as universal};
