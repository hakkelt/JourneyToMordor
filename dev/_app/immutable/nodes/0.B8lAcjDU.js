import{f as S,a as _,c as bt}from"../chunks/Ch9GSn30.js";import{o as Mt}from"../chunks/Cu9z9-1Q.js";import{l as Ct,au as Pt,h as ht,p as ut,as as Z,s as t,c as e,g as s,b as G,r as a,a as vt,t as U,d as r,n as ot,ah as Et}from"../chunks/D0sG4Gf8.js";import{B as St,i as J,a as dt,s as _t}from"../chunks/CifNh-sY.js";import{r as lt,s as E,h as $t}from"../chunks/BXtuWJMv.js";import{i as jt}from"../chunks/Dbm-z3nC.js";import{d as gt,s as nt,e as xt}from"../chunks/BVKB6R5f.js";import{a as At}from"../chunks/pK6643e_.js";import{s as Ft}from"../chunks/DO7CYJjt.js";import{r as p}from"../chunks/DwBIQS6Y.js";import{s as zt,a as ct,f as Bt,h as Ht,m as It,k as Wt,l as Ut,n as Dt,p as qt,q as Lt,t as Nt,j as Ot,u as Tt}from"../chunks/CHenVveu.js";import{b as it,u as wt}from"../chunks/CKkg2KPd.js";function Rt(u,g,...l){var i=new St(u);Ct(()=>{const c=g()??null;i.ensure(c,c&&(f=>c(f,...l)))},Pt)}function z(u,g,l,i,c,f){var o=u.__className;if(ht||o!==l||o===void 0){var n=At(l);(!ht||n!==u.getAttribute("class"))&&(n==null?u.removeAttribute("class"):u.className=n),u.__className=l}return f}const Vt=!0,Gt=!1,Me=Object.freeze(Object.defineProperty({__proto__:null,prerender:Vt,ssr:Gt},Symbol.toStringTag,{value:"Module"})),yt=""+new URL("../assets/favicon.BELKjneM.png",import.meta.url).href,Jt=()=>{const u=Ft;return{page:{subscribe:u.page.subscribe},navigating:{subscribe:u.navigating.subscribe},updated:u.updated}},Kt={subscribe(u){return Jt().page.subscribe(u)}};var Qt=S('<h2 class="mb-6 font-serif text-4xl font-normal text-slate-800">Sign In</h2> <div class="space-y-3"><button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg> Continue with Google</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" fill="#1877F2" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg> Continue with Facebook</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" viewBox="0 0 24 24"><path fill="#F25022" d="M0 0h11.377v11.372H0z"></path><path fill="#00A4EF" d="M12.623 0H24v11.372H12.623z"></path><path fill="#7FBA00" d="M0 12.623h11.377V24H0z"></path><path fill="#FFB900" d="M12.623 12.623H24V24H12.623z"></path></svg> Continue with Microsoft</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"></path></svg> Continue with Apple</button> <div class="relative my-6"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-slate-300"></div></div> <div class="relative flex justify-center text-sm"><span class="bg-white px-2 text-slate-500">Or</span></div></div> <button class="w-full rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50">Sign in with Email</button> <button class="w-full rounded-lg bg-ring-600 px-4 py-3 font-medium text-white transition hover:bg-ring-700">Create Account with Email</button></div>',1),Xt=S('<div class="rounded-lg bg-red-50 p-3 text-sm text-red-600"> </div>'),Yt=S('<h2 class="mb-6 font-serif text-4xl font-normal text-slate-800">Sign In with Email</h2> <form class="space-y-4"><div><label for="email" class="mb-1 block text-sm font-medium text-slate-700">Email</label> <input id="email" type="email" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="you@example.com"/></div> <div><label for="password" class="mb-1 block text-sm font-medium text-slate-700">Password</label> <input id="password" type="password" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="••••••••"/></div> <!> <button type="submit" class="w-full rounded-lg bg-ring-600 px-4 py-3 font-medium text-white transition hover:bg-ring-700 disabled:opacity-50"> </button> <button type="button" class="w-full text-sm text-slate-600 hover:text-slate-800">← Back to all options</button></form>',1),Zt=S('<div class="rounded-lg bg-red-50 p-3 text-sm text-red-600"> </div>'),te=S('<h2 class="mb-6 font-serif text-4xl font-normal text-slate-800">Create Account</h2> <form class="space-y-4"><div><label for="signup-email" class="mb-1 block text-sm font-medium text-slate-700">Email</label> <input id="signup-email" type="email" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="you@example.com"/></div> <div><label for="signup-password" class="mb-1 block text-sm font-medium text-slate-700">Password</label> <input id="signup-password" type="password" required minlength="6" class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="••••••••"/> <p class="mt-1 text-xs text-slate-500">At least 6 characters</p></div> <div><label for="confirm-password" class="mb-1 block text-sm font-medium text-slate-700">Confirm Password</label> <input id="confirm-password" type="password" required minlength="6" class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="••••••••"/></div> <!> <button type="submit" class="w-full rounded-lg bg-ring-600 px-4 py-3 font-medium text-white transition hover:bg-ring-700 disabled:opacity-50"> </button> <button type="button" class="w-full text-sm text-slate-600 hover:text-slate-800">← Back to all options</button></form>',1),ee=S('<button type="button" class="bg-opacity-50 fixed inset-0 z-50 h-full w-full cursor-default border-none bg-black p-0" aria-label="Close modal"></button> <div class="pointer-events-none fixed inset-0 z-50 flex items-center justify-center p-4"><div class="pointer-events-auto relative w-full max-w-md rounded-lg bg-white shadow-xl" role="dialog" aria-modal="true" tabindex="-1"><button class="absolute top-4 right-4 text-slate-400 hover:text-slate-600" aria-label="Close"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <div class="p-6"><!></div></div></div>',1);function ae(u,g){ut(g,!0);let l=G("select"),i=G(""),c=G(""),f=G(""),o=G(""),n=G(!1);async function w(d,v){r(n,!0),r(o,"");try{await zt(ct,d),g.onClose()}catch(h){const A=h;console.error(`${v} sign-in failed:`,h),r(o,A.message||`Failed to sign in with ${v}`,!0)}finally{r(n,!1)}}async function $(){if(!s(i)||!s(c)){r(o,"Please enter email and password");return}r(n,!0),r(o,"");try{await Ut(ct,s(i),s(c)),g.onClose()}catch(d){const v=d;console.error("Email sign-in failed:",d),v.code==="auth/user-not-found"||v.code==="auth/wrong-password"?r(o,"Invalid email or password"):r(o,v.message||"Failed to sign in",!0)}finally{r(n,!1)}}async function B(){if(!s(i)||!s(c)||!s(f)){r(o,"Please fill in all fields");return}if(s(c)!==s(f)){r(o,"Passwords do not match");return}if(s(c).length<6){r(o,"Password must be at least 6 characters");return}r(n,!0),r(o,"");try{await Dt(ct,s(i),s(c)),g.onClose()}catch(d){const v=d;console.error("Email sign-up failed:",d),v.code==="auth/email-already-in-use"?r(o,"Email already in use"):v.code==="auth/invalid-email"?r(o,"Invalid email address"):r(o,v.message||"Failed to create account",!0)}finally{r(n,!1)}}function y(){r(i,""),r(c,""),r(f,""),r(o,"")}function C(d){r(l,d,!0),y()}var K=ee(),q=Z(K);q.__click=function(...d){g.onClose?.apply(this,d)};var L=t(q,2),Q=e(L),b=e(Q);b.__click=function(...d){g.onClose?.apply(this,d)};var j=t(b,2),N=e(j);{var X=d=>{var v=Qt(),h=t(Z(v),2),A=e(h);A.__click=()=>w(Bt,"Google");var H=t(A,2);H.__click=()=>w(Ht,"Facebook");var m=t(H,2);m.__click=()=>w(It,"Microsoft");var x=t(m,2);x.__click=()=>w(Wt,"Apple");var k=t(x,4);k.__click=()=>C("email-signin");var F=t(k,2);F.__click=()=>C("email-signup"),a(h),U(()=>{A.disabled=s(n),H.disabled=s(n),m.disabled=s(n),x.disabled=s(n)}),_(d,v)},O=d=>{var v=bt(),h=Z(v);{var A=m=>{var x=Yt(),k=t(Z(x),2),F=e(k),D=t(e(F),2);lt(D),a(F);var T=t(F,2),I=t(e(T),2);lt(I),a(T);var R=t(T,2);{var tt=M=>{var V=Xt(),st=e(V,!0);a(V),U(()=>nt(st,s(o))),_(M,V)};J(R,M=>{s(o)&&M(tt)})}var W=t(R,2),et=e(W,!0);a(W);var Y=t(W,2);Y.__click=()=>C("select"),a(k),U(()=>{W.disabled=s(n),nt(et,s(n)?"Signing in...":"Sign In")}),xt("submit",k,M=>{M.preventDefault(),$()}),it(D,()=>s(i),M=>r(i,M)),it(I,()=>s(c),M=>r(c,M)),_(m,x)},H=m=>{var x=bt(),k=Z(x);{var F=D=>{var T=te(),I=t(Z(T),2),R=e(I),tt=t(e(R),2);lt(tt),a(R);var W=t(R,2),et=t(e(W),2);lt(et),ot(2),a(W);var Y=t(W,2),M=t(e(Y),2);lt(M),a(Y);var V=t(Y,2);{var st=P=>{var rt=Zt(),pt=e(rt,!0);a(rt),U(()=>nt(pt,s(o))),_(P,rt)};J(V,P=>{s(o)&&P(st)})}var at=t(V,2),ft=e(at,!0);a(at);var mt=t(at,2);mt.__click=()=>C("select"),a(I),U(()=>{at.disabled=s(n),nt(ft,s(n)?"Creating account...":"Create Account")}),xt("submit",I,P=>{P.preventDefault(),B()}),it(tt,()=>s(i),P=>r(i,P)),it(et,()=>s(c),P=>r(c,P)),it(M,()=>s(f),P=>r(f,P)),_(D,T)};J(k,D=>{s(l)==="email-signup"&&D(F)},!0)}_(m,x)};J(h,m=>{s(l)==="email-signin"?m(A):m(H,!1)},!0)}_(d,v)};J(N,d=>{s(l)==="select"?d(X):d(O,!1)})}a(j),a(Q),a(L),_(u,K),vt()}gt(["click"]);var se=S('<img class="h-8 w-8 rounded-full border border-slate-700 shadow-sm"/>'),re=S('<div class="flex items-center gap-3"><!> <div class="hidden flex-col text-sm sm:flex"><span class="font-medium text-slate-200"> </span> <div class="flex gap-2"><button class="text-left text-xs text-slate-400 hover:text-ring-400 hover:underline">Sign Out</button></div></div> <div class="flex flex-col items-end gap-1 sm:hidden"><button class="text-sm font-medium text-slate-300 active:text-ring-400">Sign Out</button></div></div>'),le=S('<button class="rounded-full bg-ring-600 px-5 py-2 text-sm font-bold text-white shadow-sm transition-all hover:bg-ring-500 hover:shadow-md active:scale-95">Sign In</button>'),ie=S('<div class="flex items-center gap-4"><!></div> <!>',1);function oe(u,g){ut(g,!0);const l=()=>dt(wt,"$user",i),[i,c]=_t();let f=G(!1);function o(){r(f,!0)}function n(){r(f,!1)}async function w(){await Lt(ct)}let $=G("");Et(()=>{l()&&l().uid!==s($)?(r($,l().uid,!0),qt(l())):l()||r($,"")});var B=ie(),y=Z(B),C=e(y);{var K=b=>{var j=re(),N=e(j);{var X=x=>{var k=se();U(()=>{E(k,"src",l().photoURL),E(k,"alt",l().displayName??"User")}),_(x,k)};J(N,x=>{l().photoURL&&x(X)})}var O=t(N,2),d=e(O),v=e(d,!0);a(d);var h=t(d,2),A=e(h);A.__click=w,a(h),a(O);var H=t(O,2),m=e(H);m.__click=w,a(H),a(j),U(()=>nt(v,l().displayName)),_(b,j)},q=b=>{var j=le();j.__click=o,_(b,j)};J(C,b=>{l()?b(K):b(q,!1)})}a(y);var L=t(y,2);{var Q=b=>{ae(b,{onClose:n})};J(L,b=>{s(f)&&b(Q)})}_(u,B),vt(),c()}gt(["click"]);var ne=S('<header class="sticky top-0 z-50 bg-earth-900 text-slate-200 shadow-md"><div class="mx-auto flex h-16 max-w-5xl items-center justify-between px-4 sm:px-6"><div class="flex items-center gap-6"><a class="flex items-center gap-3 transition-opacity hover:opacity-80"><img alt="The One Ring" class="h-10 w-10 drop-shadow-lg"/> <span class="font-display text-3xl font-normal tracking-wide text-ring-400 md:text-4xl">Journey to Mordor</span></a> <nav class="hidden items-center gap-2 md:flex"><a>Dashboard</a> <a>Logs</a> <a>My Data</a></nav></div> <div class="flex items-center gap-4"><div class="flex items-center gap-3"><div class="flex h-8 items-center rounded-lg border border-earth-700 bg-earth-800 p-0.5"><button>km</button> <button>miles</button></div> <div class="hidden h-6 w-px bg-earth-700 sm:block"></div> <!></div></div></div> <nav class="flex h-12 border-t border-earth-800 bg-earth-900 md:hidden"><a><span class="flex flex-col items-center"><span></span> Dashboard</span></a> <a><span class="flex flex-col items-center"><span></span> Logs</span></a> <a><span class="flex flex-col items-center"><span></span> My Data</span></a></nav></header>');function de(u,g){ut(g,!1);const l=()=>dt(wt,"$user",f),i=()=>dt(Kt,"$page",f),c=()=>dt(Ot,"$journeyStore",f),[f,o]=_t();function n(I){Nt(I,l())}jt();var w=ne(),$=e(w),B=e($),y=e(B),C=e(y);ot(2),a(y);var K=t(y,2),q=e(K),L=t(q,2),Q=t(L,2);a(K),a(B);var b=t(B,2),j=e(b),N=e(j),X=e(N);X.__click=()=>n("km");var O=t(X,2);O.__click=()=>n("miles"),a(N);var d=t(N,4);oe(d,{}),a(j),a(b),a($);var v=t($,2),h=e(v),A=e(h),H=e(A);ot(),a(A),a(h);var m=t(h,2),x=e(m),k=e(x);ot(),a(x),a(m);var F=t(m,2),D=e(F),T=e(D);ot(),a(D),a(F),a(v),a(w),U((I,R,tt,W,et,Y,M,V,st,at,ft,mt,P,rt,pt,kt)=>{E(y,"href",I),E(C,"src",yt),E(q,"href",R),z(q,1,`rounded-full px-4 py-1.5 text-sm font-medium transition-all ${tt??""}`),E(L,"href",W),z(L,1,`rounded-full px-4 py-1.5 text-sm font-medium transition-all ${et??""}`),E(Q,"href",Y),z(Q,1,`rounded-full px-4 py-1.5 text-sm font-medium transition-all ${M??""}`),z(X,1,`flex h-full items-center rounded-md px-3 text-xs font-semibold transition-all ${c().unit==="km"?"bg-ring-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`),z(O,1,`flex h-full items-center rounded-md px-3 text-xs font-semibold transition-all ${c().unit==="miles"?"bg-ring-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`),E(h,"href",V),z(h,1,`flex flex-1 items-center justify-center text-xs font-medium transition-all ${st??""}`),z(H,1,`mb-1 h-1 w-8 rounded-full ${at??""}`),E(m,"href",ft),z(m,1,`flex flex-1 items-center justify-center text-xs font-medium transition-all ${mt??""}`),z(k,1,`mb-1 h-1 w-8 rounded-full ${P??""}`),E(F,"href",rt),z(F,1,`flex flex-1 items-center justify-center text-xs font-medium transition-all ${pt??""}`),z(T,1,`mb-1 h-1 w-8 rounded-full ${kt??""}`)},[()=>p("/"),()=>p("/"),()=>i().url.pathname===p("/")?"bg-ring-600/20 text-ring-400":"text-slate-400 hover:bg-earth-800 hover:text-slate-200",()=>p("/logs"),()=>i().url.pathname.startsWith(p("/logs"))?"bg-ring-600/20 text-ring-400":"text-slate-400 hover:bg-earth-800 hover:text-slate-200",()=>p("/my-data"),()=>i().url.pathname.startsWith(p("/my-data"))?"bg-ring-600/20 text-ring-400":"text-slate-400 hover:bg-earth-800 hover:text-slate-200",()=>p("/"),()=>i().url.pathname===p("/")?"text-ring-400":"text-slate-400",()=>i().url.pathname===p("/")?"bg-ring-400":"bg-transparent",()=>p("/logs"),()=>i().url.pathname.startsWith(p("/logs"))?"text-ring-400":"text-slate-400",()=>i().url.pathname.startsWith(p("/logs"))?"bg-ring-400":"bg-transparent",()=>p("/my-data"),()=>i().url.pathname.startsWith(p("/my-data"))?"text-ring-400":"text-slate-400",()=>i().url.pathname.startsWith(p("/my-data"))?"bg-ring-400":"bg-transparent"]),_(u,w),vt(),o()}gt(["click"]);var ce=S('<link rel="icon"/>'),ue=S('<div class="flex min-h-screen flex-col bg-earth-50"><!> <main class="flex-grow p-4 md:p-6"><div class="mx-auto max-w-4xl"><!></div></main> <footer class="bg-earth-900 py-6 text-center text-sm text-slate-400"><p>&copy; 2026 Tamás Hakkel. Not affiliated with Tolkien Estate.</p> <p class="mt-2 space-x-4"><a class="text-ring-400 hover:text-ring-300 hover:underline">My Data</a> <span class="text-slate-600">|</span> <a class="text-ring-400 hover:text-ring-300 hover:underline">Privacy Policy</a></p></footer></div>');function Ce(u,g){ut(g,!0),Mt(()=>{Tt()});var l=ue();$t("12qhfyh",y=>{var C=ce();U(()=>E(C,"href",yt)),_(y,C)});var i=e(l);de(i,{});var c=t(i,2),f=e(c),o=e(f);Rt(o,()=>g.children),a(f),a(c);var n=t(c,2),w=t(e(n),2),$=e(w),B=t($,4);a(w),a(n),a(l),U((y,C)=>{E($,"href",y),E(B,"href",C)},[()=>p("/my-data"),()=>p("/privacy")]),_(u,l),vt()}export{Ce as component,Me as universal};
