import{f as M,a as A,c as be}from"../chunks/oQvJ08_9.js";import{o as Me}from"../chunks/b0IE8X-v.js";import{o as Fe,al as Pe,p as fe,f as V,s as e,c as t,g as s,d as $,r as a,a as me,t as R,h as n,n as ne,ao as xe,u as Re,b as Ue}from"../chunks/Cszbqulu.js";import{d as he,s as se,e as we}from"../chunks/BZoQOtPd.js";import{B as je,i as N}from"../chunks/DMZUN15h.js";import{r as ce,s as C,h as He}from"../chunks/4g5tVcff.js";import{s as H}from"../chunks/BjAbSHct.js";import{a as oe,s as Ae}from"../chunks/ByVlSEKy.js";import{i as Se}from"../chunks/BOJ1tbYF.js";import{e as Je,i as We}from"../chunks/CM4FycmU.js";import{s as Te}from"../chunks/C-UZR44d.js";import{r as k}from"../chunks/CWHogMJ6.js";import{s as ze,a as ve,k as Ze,l as De,m as Oe,n as Xe,p as Le,q as Qe,t as ye,i as ke,u as Ne,v as Ge,j as qe,w as Ke}from"../chunks/DsnBxUfA.js";import{b as ue,u as Ce}from"../chunks/ii3v1BhZ.js";import{L as Ye}from"../chunks/CtqQUJPC.js";function Ve(h,m,...i){var r=new je(h);Fe(()=>{const l=m()??null;r.ensure(l,l&&(o=>l(o,...i)))},Pe)}const $e=!0,et=!1,Xt=Object.freeze(Object.defineProperty({__proto__:null,prerender:$e,ssr:et},Symbol.toStringTag,{value:"Module"})),tt=()=>{const h=Te;return{page:{subscribe:h.page.subscribe},navigating:{subscribe:h.navigating.subscribe},updated:h.updated}},at={subscribe(h){return tt().page.subscribe(h)}},pe={sources:{avif:""+new URL("../assets/header-40.BxjAKk01.avif",import.meta.url).href+" 20w, "+new URL("../assets/header-40.-xIFhpoD.avif",import.meta.url).href+" 40w",webp:""+new URL("../assets/header-40.ChGmBewp.webp",import.meta.url).href+" 20w, "+new URL("../assets/header-40.CebnQvFf.webp",import.meta.url).href+" 40w",png:""+new URL("../assets/header-40.BK7jgtxi.png",import.meta.url).href+" 20w, "+new URL("../assets/header-40.Bd_kieum.png",import.meta.url).href+" 40w"},img:{src:""+new URL("../assets/header-40.Bd_kieum.png",import.meta.url).href,w:40,h:40}};var rt=M('<h2 class="mb-6 font-serif text-4xl font-normal text-slate-800">Sign In</h2> <div class="space-y-3"><button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg> Continue with Google</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" fill="#1877F2" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg> Continue with Facebook</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" viewBox="0 0 24 24"><path fill="#F25022" d="M0 0h11.377v11.372H0z"></path><path fill="#00A4EF" d="M12.623 0H24v11.372H12.623z"></path><path fill="#7FBA00" d="M0 12.623h11.377V24H0z"></path><path fill="#FFB900" d="M12.623 12.623H24V24H12.623z"></path></svg> Continue with Microsoft</button> <button class="flex w-full items-center justify-center gap-3 rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50 disabled:opacity-50"><svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"></path></svg> Continue with Apple</button> <div class="relative my-6"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-slate-300"></div></div> <div class="relative flex justify-center text-sm"><span class="bg-white px-2 text-slate-500">Or</span></div></div> <button class="w-full rounded-lg border border-slate-300 bg-white px-4 py-3 font-medium text-slate-700 transition hover:bg-slate-50">Sign in with Email</button> <button class="w-full rounded-lg bg-ring-600 px-4 py-3 font-medium text-white transition hover:bg-ring-700">Create Account with Email</button></div>',1),st=M('<div class="rounded-lg bg-red-50 p-3 text-sm text-red-600"> </div>'),it=M('<h2 class="mb-6 font-serif text-4xl font-normal text-slate-800">Sign In with Email</h2> <form class="space-y-4"><div><label for="email" class="mb-1 block text-sm font-medium text-slate-700">Email</label> <input id="email" type="email" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="you@example.com"/></div> <div><label for="password" class="mb-1 block text-sm font-medium text-slate-700">Password</label> <input id="password" type="password" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="••••••••"/></div> <!> <button type="submit" class="w-full rounded-lg bg-ring-600 px-4 py-3 font-medium text-white transition hover:bg-ring-700 disabled:opacity-50"> </button> <button type="button" class="w-full text-sm text-slate-600 hover:text-slate-800">← Back to all options</button></form>',1),nt=M('<div class="rounded-lg bg-red-50 p-3 text-sm text-red-600"> </div>'),ot=M('<h2 class="mb-6 font-serif text-4xl font-normal text-slate-800">Create Account</h2> <form class="space-y-4"><div><label for="signup-email" class="mb-1 block text-sm font-medium text-slate-700">Email</label> <input id="signup-email" type="email" required class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="you@example.com"/></div> <div><label for="signup-password" class="mb-1 block text-sm font-medium text-slate-700">Password</label> <input id="signup-password" type="password" required minlength="6" class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="••••••••"/> <p class="mt-1 text-xs text-slate-500">At least 6 characters</p></div> <div><label for="confirm-password" class="mb-1 block text-sm font-medium text-slate-700">Confirm Password</label> <input id="confirm-password" type="password" required minlength="6" class="w-full rounded-lg border border-slate-300 px-4 py-2 focus:border-ring-500 focus:ring-2 focus:ring-ring-200 focus:outline-none" placeholder="••••••••"/></div> <!> <button type="submit" class="w-full rounded-lg bg-ring-600 px-4 py-3 font-medium text-white transition hover:bg-ring-700 disabled:opacity-50"> </button> <button type="button" class="w-full text-sm text-slate-600 hover:text-slate-800">← Back to all options</button></form>',1),lt=M('<button type="button" class="bg-opacity-50 fixed inset-0 z-50 h-full w-full cursor-default border-none bg-black p-0" aria-label="Close modal"></button> <div class="pointer-events-none fixed inset-0 z-50 flex items-center justify-center p-4"><div class="pointer-events-auto relative w-full max-w-md rounded-lg bg-white shadow-xl" role="dialog" aria-modal="true" tabindex="-1"><button class="absolute top-4 right-4 text-slate-400 hover:text-slate-600" aria-label="Close"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <div class="p-6"><!></div></div></div>',1);function dt(h,m){fe(m,!0);let i=$("select"),r=$(""),l=$(""),o=$(""),c=$(""),u=$(!1);async function g(d,v){n(u,!0),n(c,"");try{await ze(ve,d),m.onClose()}catch(U){const f=U;console.error(`${v} sign-in failed:`,U),n(c,f.message||`Failed to sign in with ${v}`,!0)}finally{n(u,!1)}}async function x(){if(!s(r)||!s(l)){n(c,"Please enter email and password");return}n(u,!0),n(c,"");try{await Le(ve,s(r),s(l)),m.onClose()}catch(d){const v=d;console.error("Email sign-in failed:",d),v.code==="auth/user-not-found"||v.code==="auth/wrong-password"?n(c,"Invalid email or password"):n(c,v.message||"Failed to sign in",!0)}finally{n(u,!1)}}async function E(){if(!s(r)||!s(l)||!s(o)){n(c,"Please fill in all fields");return}if(s(l)!==s(o)){n(c,"Passwords do not match");return}if(s(l).length<6){n(c,"Password must be at least 6 characters");return}n(u,!0),n(c,"");try{await Qe(ve,s(r),s(l)),m.onClose()}catch(d){const v=d;console.error("Email sign-up failed:",d),v.code==="auth/email-already-in-use"?n(c,"Email already in use"):v.code==="auth/invalid-email"?n(c,"Invalid email address"):n(c,v.message||"Failed to create account",!0)}finally{n(u,!1)}}function D(){n(r,""),n(l,""),n(o,""),n(c,"")}function S(d){n(i,d,!0),D()}var G=lt(),ee=V(G);ee.__click=function(...d){m.onClose?.apply(this,d)};var q=e(ee,2),O=t(q),X=t(O);X.__click=function(...d){m.onClose?.apply(this,d)};var y=e(X,2),B=t(y);{var T=d=>{var v=rt(),U=e(V(v),2),f=t(U);f.__click=()=>g(Ze,"Google");var p=e(f,2);p.__click=()=>g(De,"Facebook");var _=e(p,2);_.__click=()=>g(Oe,"Microsoft");var j=e(_,2);j.__click=()=>g(Xe,"Apple");var w=e(j,4);w.__click=()=>S("email-signin");var z=e(w,2);z.__click=()=>S("email-signup"),a(U),R(()=>{f.disabled=s(u),p.disabled=s(u),_.disabled=s(u),j.disabled=s(u)}),A(d,v)},K=d=>{var v=be(),U=V(v);{var f=_=>{var j=it(),w=e(V(j),2),z=t(w),Z=e(t(z),2);ce(Z),a(z);var F=e(z,2),Y=e(t(F),2);ce(Y),a(F);var te=e(F,2);{var P=b=>{var J=st(),ae=t(J,!0);a(J),R(()=>se(ae,s(c))),A(b,J)};N(te,b=>{s(c)&&b(P)})}var I=e(te,2),L=t(I,!0);a(I);var Q=e(I,2);Q.__click=()=>S("select"),a(w),R(()=>{I.disabled=s(u),se(L,s(u)?"Signing in...":"Sign In")}),we("submit",w,b=>{b.preventDefault(),x()}),ue(Z,()=>s(r),b=>n(r,b)),ue(Y,()=>s(l),b=>n(l,b)),A(_,j)},p=_=>{var j=be(),w=V(j);{var z=Z=>{var F=ot(),Y=e(V(F),2),te=t(Y),P=e(t(te),2);ce(P),a(te);var I=e(te,2),L=e(t(I),2);ce(L),ne(2),a(I);var Q=e(I,2),b=e(t(Q),2);ce(b),a(Q);var J=e(Q,2);{var ae=W=>{var de=nt(),ge=t(de,!0);a(de),R(()=>se(ge,s(c))),A(W,de)};N(J,W=>{s(c)&&W(ae)})}var re=e(J,2),le=t(re,!0);a(re);var ie=e(re,2);ie.__click=()=>S("select"),a(Y),R(()=>{re.disabled=s(u),se(le,s(u)?"Creating account...":"Create Account")}),we("submit",Y,W=>{W.preventDefault(),E()}),ue(P,()=>s(r),W=>n(r,W)),ue(L,()=>s(l),W=>n(l,W)),ue(b,()=>s(o),W=>n(o,W)),A(Z,F)};N(w,Z=>{s(i)==="email-signup"&&Z(z)},!0)}A(_,j)};N(U,_=>{s(i)==="email-signin"?_(f):_(p,!1)},!0)}A(d,v)};N(B,d=>{s(i)==="select"?d(T):d(K,!1)})}a(y),a(O),a(q),A(h,G),me()}he(["click"]);var ct=M('<img class="h-8 w-8 rounded-full border border-slate-700 shadow-sm" width="32" height="32"/>'),ut=M('<div class="flex items-center gap-3"><!> <div class="hidden flex-col text-sm sm:flex"><span class="font-medium text-slate-200"> </span> <div class="flex gap-2"><button class="text-left text-xs whitespace-nowrap text-slate-400 hover:text-ring-400 hover:underline disabled:cursor-not-allowed disabled:opacity-50"> </button></div></div> <div class="flex flex-col items-end gap-1 sm:hidden"><button class="text-sm font-medium whitespace-nowrap text-slate-300 active:text-ring-400 disabled:cursor-not-allowed disabled:opacity-50"> </button></div></div>'),pt=M('<button class="rounded-full bg-ring-600 px-5 py-2 text-sm font-bold whitespace-nowrap text-white shadow-sm transition-all hover:bg-ring-500 hover:shadow-md active:scale-95 disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-ring-600"> </button>'),vt=M('<div class="flex items-center gap-4"><!></div> <!>',1);function ft(h,m){fe(m,!0);const i=()=>oe(ke,"$isOnline",l),r=()=>oe(Ce,"$user",l),[l,o]=Ae();let c=$(!1);function u(){i()&&n(c,!0)}function g(){n(c,!1)}async function x(){i()&&await Ne(ve)}let E=$("");xe(()=>{r()&&r().uid!==s(E)?(n(E,r().uid,!0),i()&&ye(r())):r()||n(E,"")}),xe(()=>{i()&&r()&&ye(r())});var D=vt(),S=V(D),G=t(S);{var ee=y=>{var B=ut(),T=t(B);{var K=Z=>{var F=ct();R(()=>{C(F,"src",r().photoURL),C(F,"alt",r().displayName??"User")}),A(Z,F)};N(T,Z=>{r().photoURL&&Z(K)})}var d=e(T,2),v=t(d),U=t(v,!0);a(v);var f=e(v,2),p=t(f);p.__click=x;var _=t(p,!0);a(p),a(f),a(d);var j=e(d,2),w=t(j);w.__click=x;var z=t(w,!0);a(w),a(j),a(B),R(()=>{se(U,r().displayName),p.disabled=!i(),se(_,i()?"Sign Out":"Offline"),w.disabled=!i(),se(z,i()?"Sign Out":"Offline")}),A(y,B)},q=y=>{var B=pt();B.__click=u;var T=t(B,!0);a(B),R(()=>{B.disabled=!i(),se(T,i()?"Sign In":"Offline")}),A(y,B)};N(G,y=>{r()?y(ee):y(q,!1)})}a(S);var O=e(S,2);{var X=y=>{dt(y,{onClose:g})};N(O,y=>{s(c)&&y(X)})}A(h,D),me(),o()}he(["click"]);var mt=M('<img alt="The One Ring" class="h-10 w-10 drop-shadow-lg" width="40" height="40"/>'),ht=M("<source/>"),gt=M('<picture><!> <img alt="The One Ring" class="h-10 w-10 drop-shadow-lg" width="40" height="40"/></picture>'),bt=M('<header class="sticky top-0 z-50 bg-earth-900 text-slate-200 shadow-md"><div class="mx-auto flex h-16 max-w-5xl items-center justify-between px-4 sm:px-6"><div class="flex items-center gap-6"><a class="flex items-center gap-3 transition-opacity hover:opacity-80"><!> <span class="font-display text-xl font-normal tracking-wide text-ring-400 md:text-4xl">Journey to Mordor</span></a> <nav class="hidden items-center gap-2 md:flex"><a>Dashboard</a> <a>Logs</a> <a>My Data</a></nav></div> <div class="flex items-center gap-4"><div class="flex items-center gap-3"><div class="flex h-8 items-center rounded-lg border border-earth-700 bg-earth-800 p-0.5"><button aria-label="Set units to kilometers">km</button> <button aria-label="Set units to miles">miles</button></div> <div class="hidden h-6 w-px bg-earth-700 sm:block"></div> <!></div></div></div> <nav class="flex h-12 border-t border-earth-800 bg-earth-900 md:hidden"><a><span class="flex flex-col items-center"><span></span> Dashboard</span></a> <a><span class="flex flex-col items-center"><span></span> Logs</span></a> <a><span class="flex flex-col items-center"><span></span> My Data</span></a></nav></header>');function At(h,m){fe(m,!1);const i=()=>oe(Ce,"$user",o),r=()=>oe(at,"$page",o),l=()=>oe(qe,"$journeyStore",o),[o,c]=Ae();function u(P){Ge(P,i())}Se();var g=bt(),x=t(g),E=t(x),D=t(E),S=t(D);{var G=P=>{var I=be(),L=V(I);{var Q=b=>{var J=mt();R(()=>C(J,"src",pe)),A(b,J)};N(L,b=>{b(Q,!1)})}A(P,I)},ee=P=>{var I=gt(),L=t(I);Je(L,1,()=>Object.entries(pe.sources),We,(b,J)=>{var ae=Re(()=>Ue(s(J),2));let re=()=>s(ae)[0],le=()=>s(ae)[1];var ie=ht();R(()=>{C(ie,"srcset",le()),C(ie,"type","image/"+re())}),A(b,ie)});var Q=e(L,2);a(I),R(()=>C(Q,"src",pe.img.src)),A(P,I)};N(S,P=>{typeof pe=="string"?P(G):P(ee,!1)})}ne(2),a(D);var q=e(D,2),O=t(q),X=e(O,2),y=e(X,2);a(q),a(E);var B=e(E,2),T=t(B),K=t(T),d=t(K);d.__click=()=>u("km");var v=e(d,2);v.__click=()=>u("miles"),a(K);var U=e(K,4);ft(U,{}),a(T),a(B),a(x);var f=e(x,2),p=t(f),_=t(p),j=t(_);ne(),a(_),a(p);var w=e(p,2),z=t(w),Z=t(z);ne(),a(z),a(w);var F=e(w,2),Y=t(F),te=t(Y);ne(),a(Y),a(F),a(f),a(g),R((P,I,L,Q,b,J,ae,re,le,ie,W,de,ge,Ee,Be,Ie)=>{C(D,"href",P),C(O,"href",I),H(O,1,`rounded-full px-4 py-1.5 text-sm font-medium transition-all ${L??""}`),C(X,"href",Q),H(X,1,`rounded-full px-4 py-1.5 text-sm font-medium transition-all ${b??""}`),C(y,"href",J),H(y,1,`rounded-full px-4 py-1.5 text-sm font-medium transition-all ${ae??""}`),H(d,1,`flex h-full items-center rounded-md px-3 text-xs font-semibold transition-all ${l().unit==="km"?"bg-ring-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`),C(d,"aria-pressed",l().unit==="km"),H(v,1,`flex h-full items-center rounded-md px-3 text-xs font-semibold transition-all ${l().unit==="miles"?"bg-ring-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`),C(v,"aria-pressed",l().unit==="miles"),C(p,"href",re),H(p,1,`flex flex-1 items-center justify-center text-xs font-medium transition-all ${le??""}`),H(j,1,`mb-1 h-1 w-8 rounded-full ${ie??""}`),C(w,"href",W),H(w,1,`flex flex-1 items-center justify-center text-xs font-medium transition-all ${de??""}`),H(Z,1,`mb-1 h-1 w-8 rounded-full ${ge??""}`),C(F,"href",Ee),H(F,1,`flex flex-1 items-center justify-center text-xs font-medium transition-all ${Be??""}`),H(te,1,`mb-1 h-1 w-8 rounded-full ${Ie??""}`)},[()=>k("/"),()=>k("/"),()=>r().url.pathname===k("/")?"bg-ring-600/20 text-ring-400":"text-slate-400 hover:bg-earth-800 hover:text-slate-200",()=>k("/logs"),()=>r().url.pathname.startsWith(k("/logs"))?"bg-ring-600/20 text-ring-400":"text-slate-400 hover:bg-earth-800 hover:text-slate-200",()=>k("/my-data"),()=>r().url.pathname.startsWith(k("/my-data"))?"bg-ring-600/20 text-ring-400":"text-slate-400 hover:bg-earth-800 hover:text-slate-200",()=>k("/"),()=>r().url.pathname===k("/")?"text-ring-400":"text-slate-400",()=>r().url.pathname===k("/")?"bg-ring-400":"bg-transparent",()=>k("/logs"),()=>r().url.pathname.startsWith(k("/logs"))?"text-ring-400":"text-slate-400",()=>r().url.pathname.startsWith(k("/logs"))?"bg-ring-400":"bg-transparent",()=>k("/my-data"),()=>r().url.pathname.startsWith(k("/my-data"))?"text-ring-400":"text-slate-400",()=>r().url.pathname.startsWith(k("/my-data"))?"bg-ring-400":"bg-transparent"]),A(h,g),me(),c()}he(["click"]);const xt="data:image/avif;base64,AAAAHGZ0eXBhdmlmAAAAAG1pZjFhdmlmbWlhZgAAANZtZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAD6AAEAAAAAAAAAGgAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAVmlwcnAAAAA4aXBjbwAAAAxhdjFDgQAMAAAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAABZpcG1hAAAAAAAAAAEAAQOBAgMAAAAibWRhdBIACggYAAYICGg0IDIMFMAEEEEEAAB5S61W",wt="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=";async function _e(h){return typeof Image>"u"?!1:new Promise(m=>{const i=new Image;i.onload=()=>m(!0),i.onerror=()=>m(!1),i.src=h})}function yt(h){return h.split(",").map(m=>{const r=m.trim().match(/^(.+?)(?:\s+(\d+)w)?$/);if(r){const l=r[1],o=r[2]?parseInt(r[2],10):1/0;return{url:l,w:o}}return null}).filter(m=>m!==null)}async function _t(){if(typeof window>"u")return;const h=()=>kt();"requestIdleCallback"in window?window.requestIdleCallback(h):setTimeout(h,3e3)}async function kt(){const h=await _e(xt),m=await _e(wt),i=new Set;for(const r of Ye){const l=r.image;if(!l)continue;if(typeof l=="string"){i.add(l);continue}const o=l;let c=[];h&&o.sources?.avif?c=Array.isArray(o.sources.avif)?o.sources.avif:[o.sources.avif]:m&&o.sources?.webp?c=Array.isArray(o.sources.webp)?o.sources.webp:[o.sources.webp]:o.img&&(c=[o.img]);const u=[];for(const g of c){const x=typeof g=="string"?g:g.src,E=typeof g=="object"&&"w"in g?parseInt(String(g.w),10):1/0;x&&(x.includes(",")?u.push(...yt(x)):u.push({url:x,w:isNaN(E)?1/0:E}))}if(u.length>0){u.sort((x,E)=>x.w-E.w);const g=u[u.length-1];g&&i.add(g.url)}}for(const r of i)try{await fetch(r,{priority:"low"})}catch{}}const Ct="data:image/png;base64,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";var Et=M('<link rel="icon"/>'),Bt=M('<button class="text-ring-400 hover:text-ring-300 hover:underline disabled:pointer-events-none disabled:opacity-50">Install App</button> <span class="text-slate-600">|</span>',1),It=M('<div class="flex min-h-screen flex-col bg-earth-50"><!> <main class="flex-grow p-4 md:p-6"><div class="mx-auto max-w-4xl"><!></div></main> <footer class="bg-earth-900 py-6 text-center text-sm text-slate-400"><div class="flex items-center justify-center gap-4"><p>&copy; 2026 Tamás Hakkel. Not affiliated with Tolkien Estate.</p> <a href="https://github.com/hakkelt/JourneyToMordor" target="_blank" rel="noopener noreferrer" aria-label="GitHub Repository"><svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a></div> <p class="mt-2 space-x-4"><!> <a class="text-ring-400 hover:text-ring-300 hover:underline">Privacy Policy</a> <span class="text-slate-600">|</span> <a class="text-ring-400 hover:text-ring-300 hover:underline">Credits</a> <span class="text-slate-600">|</span> <a href="https://github.com/hakkelt/JourneyToMordor/discussions" target="_blank" rel="noopener noreferrer">Discussions</a> <span class="text-slate-600">|</span> <a href="https://github.com/hakkelt/JourneyToMordor/issues" target="_blank" rel="noopener noreferrer">Bug Reports</a></p></footer></div>');function Lt(h,m){fe(m,!0);const i=()=>oe(ke,"$isOnline",r),[r,l]=Ae();let o=$(null);Me(()=>{const f=p=>{p.preventDefault(),n(o,p,!0)};return window.addEventListener("beforeinstallprompt",f),Ke(),_t(),()=>window.removeEventListener("beforeinstallprompt",f)});async function c(){if(!s(o))return;s(o).prompt();const{outcome:f}=await s(o).userChoice;f==="accepted"&&n(o,null)}var u=It();He("12qhfyh",f=>{var p=Et();R(()=>C(p,"href",Ct)),A(f,p)});var g=t(u);At(g,{});var x=e(g,2),E=t(x),D=t(E);Ve(D,()=>m.children),a(E),a(x);var S=e(x,2),G=t(S),ee=e(t(G),2);let q;a(G);var O=e(G,2),X=t(O);{var y=f=>{var p=Bt(),_=V(p);_.__click=c,ne(2),R(()=>_.disabled=!i()),A(f,p)};N(X,f=>{s(o)&&f(y)})}var B=e(X,2),T=e(B,4),K=e(T,4);let d;var v=e(K,4);let U;a(O),a(S),a(u),R((f,p)=>{q=H(ee,1,"inline-flex items-center text-ring-400 transition-colors hover:text-ring-300",null,q,{"opacity-50":!i(),"pointer-events-none":!i()}),C(B,"href",f),C(T,"href",p),d=H(K,1,"text-ring-400 hover:text-ring-300 hover:underline",null,d,{"opacity-50":!i(),"pointer-events-none":!i()}),U=H(v,1,"text-ring-400 hover:text-ring-300 hover:underline",null,U,{"opacity-50":!i(),"pointer-events-none":!i()})},[()=>k("/privacy"),()=>k("/credits")]),A(h,u),me(),l()}he(["click"]);export{Lt as component,Xt as universal};
